//-------------------------------------
// структура, описывающая свойства 
// кнопки меню
//-------------------------------------
struct binfo
{
int left; int top; int right; int bottom; // координаты кнопки
char * str;		// надпись
int command;		// байт-код кнопки
binfo * prev;		// указатель на предыдущую структуру
binfo * next;		// указатель на следующую структуру
};
//-------------------------------------
// создание новой структуры binfo и
// её инициализация
//-------------------------------------
binfo * button()
{
binfo * bi;
bi = new binfo;
bi->command = 0;
bi->prev = bi->next = NULL;
bi->str = new char [64];
return bi;
}
//-------------------------------------
// класс, реализующий работу с меню
//-------------------------------------
class tmenu
{
void draw_button(binfo * bi);	// прорисовка кнопки
public:
binfo * active;			// указатель на активную кнопку
binfo * first;			// указатель на первую кнопку
binfo * last;			// указатель на последнюю кнопку
tmenu() { first = last = active = NULL; };	// конструктор
~tmenu();			// деструктор
void draw();			// прорисовка меню
void append(binfo *bi);		// добавление кнопки к списку
};
//-------------------------------------
#include "menu.cpp"
//-------------------------------------